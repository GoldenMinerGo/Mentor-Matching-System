<h1>Group Information</h1>

<h2>All Groups</h2>
<table>
  <tr>

    <th><%= link_to 'ID', group_index_path(sort: 'id')%></th>
    <th><%= link_to 'Title', group_index_path(sort: 'title')%></th>
    <th>Mentor</th>
    
    <th>Members</th>
    <th><%= link_to '#Members', group_index_path(sort: 'num')%></th>

    <th>Admin</th>
    <th>Available time</th>
    <th>Competition</th>
    <th>More</th>
  </tr>
  <% @groups.each do |group| %>
  <tr>
    <td><%= group.id %></td>
    <td><%= group.title %></td>
    <% if group.mentor.nil? %>
      <td>TBD</td>
    <% else %>
      <td><%= group.mentor.name %></td>
    <% end %>
    
    <td><%= group.members %></td>
    <td><%= group.children.count%></td>
    <%#= group.members.count %>
    <td><%= group.admin.name %></td>
    <td><%= group.time_compare(@child.time_slot) %></td>
    <td><%= group.competitions %></td>
    <td><%= link_to "Send Request", {:controller => "invitation", :action => "child_send_request_to_group", :id => group.id, :sender_id => @child.id }%></td>
    
  </tr>
  <% end %>
</table>